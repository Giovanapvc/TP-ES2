<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Minhas Playlists</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>


<body>
    
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul class="flashes">
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <h1>Minhas Playlists</h1>

    <form method="POST" action="{{ url_for('create_playlist') }}">
        <input type="hidden" name="user" value="{{ user }}">
        <label for="name">Nome da nova playlist:</label>
        <input type="text" name="name" required>
        <button type="submit">Criar</button>
    </form>

    <ul>
        {% for playlist in playlists %}
            <li>
                <a href="{{ url_for('view_playlist', playlist_id=playlist['id']) }}">{{ playlist['name'] }}</a>

                <form action="{{ url_for('delete_playlist', playlist_id=playlist['id']) }}" method="POST" style="display: inline;">
                    <input type="hidden" name="user" value="{{ user }}">
                    <button type="submit" onclick="return confirm('Tem certeza que deseja excluir esta playlist?')">Excluir</button>
                </form>
            </li>
        {% else %}
            <li>Você ainda não criou playlists.</li>
        {% endfor %}
    </ul>

    <a href="{{ url_for('user_dashboard', name=user) }}">Voltar ao painel</a>


</body>